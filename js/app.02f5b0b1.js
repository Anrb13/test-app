(function(){"use strict";var t={1147:function(t,e,a){var s=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("MainPage")],1)},r=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page"},[e("header",{staticClass:"main-page__title"},[e("h1",{staticClass:"main-page__title-text"},[t._v(" Список пользователей ")]),e("button",{staticClass:"btn waves-effect waves-light",class:{disabled:t.loading},attrs:{tabindex:"0"},on:{click:t.showDialog}},[t._v(" Добавить ")])]),e("div",{staticClass:"main-page__table"},[e("div",{staticClass:"main-page__header"},[e("div",{staticClass:"main-page__table-id main-page__header-item",attrs:{tabindex:"0"},on:{click:function(e){return t.sortByType("id")},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sortByType("id")}}},[e("div",[t._v("ID")]),e("TaSortIcon",{staticClass:"main-page__sort",attrs:{active:t.isSortById,reverse:t.isSortById&&t.sortReverse}})],1),e("div",{staticClass:"main-page__table-lastname main-page__header-item",attrs:{tabindex:"0"},on:{click:function(e){return t.sortByType("ln")},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sortByType("ln")}}},[e("div",[t._v("Фамилия")]),e("TaSortIcon",{staticClass:"main-page__sort",attrs:{active:t.isSortByLastName,reverse:t.isSortByLastName&&t.sortReverse}})],1),e("div",{staticClass:"main-page__table-firstname main-page__header-item",attrs:{tabindex:"0"},on:{click:function(e){return t.sortByType("fn")},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sortByType("fn")}}},[e("div",[t._v("Имя")]),e("TaSortIcon",{staticClass:"main-page__sort",attrs:{active:t.isSortByFirstName,reverse:t.isSortByFirstName&&t.sortReverse}})],1),e("div",{staticClass:"main-page__table-birthday",attrs:{tabindex:"0"},on:{click:function(e){return t.sortByType("bd")},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sortByType("bd")}}},[e("div",[t._v("Дата рождения")])])]),e("div",{staticClass:"main-page__table-body",class:{"main-page__table-body--loading":t.loading}},t._l(t.modelUsers,(function(a,s){return e("div",{key:`${a.id}_${s}`,staticClass:"main-page__table-body-item"},[e("span",{staticClass:"main-page__table-id"},[t._v(t._s(a.id))]),e("span",{staticClass:"main-page__table-lastname"},[t._v(t._s(a.lastName))]),e("span",{staticClass:"main-page__table-firstname"},[t._v(t._s(a.firstName))]),e("span",{staticClass:"main-page__table-birthday"},[t._v(t._s(a.birthday))])])})),0),t.loading?e("TaLoader",{staticClass:"main-page__loader"}):t._e()],1),e("div",{staticClass:"main-page__pagination"},[e("button",{staticClass:"btn-small",class:{disabled:t.users.length<=t.endAt||t.loading},attrs:{type:"button",tabindex:"0"},on:{click:t.paginationPlus}},[t._v(" Загрузить ещё ")])]),t.dialogShown?e("TaDialog",{staticClass:"main-page__dialog",on:{close:t.closeDialog,submit:t.addNewUser}}):t._e()],1)},o=[],l=(a(7658),function(){var t=this;t._self._c;return t._m(0)}),d=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"preloader-wrapper big active"},[e("div",{staticClass:"spinner-layer spinner-blue-only"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"gap-patch"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])])}],c={name:"TaLoader"},m=c,u=a(1001),p=(0,u.Z)(m,l,d,!1,null,null,null),h=p.exports,_=function(){var t=this,e=t._self._c;return e("form",{staticClass:"ta-dialog z-depth-3"},[e("h2",{staticClass:"ta-dialog__title"},[t._v(" Добавление нового пользователя "),e("button",{staticClass:"ta-dialog__close btn-floating btn-small red",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"material-icons"},[t._v("close")])])]),e("label",{staticClass:"ta-dialog__label",attrs:{for:"l-name"}},[t._v(" Фамилия "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model.lastName,expression:"model.lastName"}],staticClass:"ta-dialog__input",class:{invalid:t.error.lastName},attrs:{id:"l-name",type:"text",maxlength:"30"},domProps:{value:t.model.lastName},on:{input:[function(e){e.target.composing||t.$set(t.model,"lastName",e.target.value)},function(e){t.error.lastName=!1}]}}),t.error.lastName?e("span",{staticClass:"ta-dialog__error"},[t._v(" Недопустимая фамилия ")]):t._e()]),e("label",{staticClass:"ta-dialog__label",attrs:{for:"f-name"}},[t._v(" Имя "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model.firstName,expression:"model.firstName"}],staticClass:"ta-dialog__input",class:{invalid:t.error.firstName},attrs:{id:"f-name",type:"text",maxlength:"30"},domProps:{value:t.model.firstName},on:{input:[function(e){e.target.composing||t.$set(t.model,"firstName",e.target.value)},function(e){t.error.firstName=!1}]}}),t.error.firstName?e("span",{staticClass:"ta-dialog__error"},[t._v(" Недопустимое имя ")]):t._e()]),e("label",{staticClass:"ta-dialog__label",attrs:{for:"date"}},[t._v(" Дата рождения "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model.birthday,expression:"model.birthday"}],staticClass:"ta-dialog__input",class:{invalid:t.error.birthday},attrs:{id:"date",type:"date"},domProps:{value:t.model.birthday},on:{input:[function(e){e.target.composing||t.$set(t.model,"birthday",e.target.value)},function(e){t.error.birthday=!1}]}}),t.error.birthday?e("span",{staticClass:"ta-dialog__error"},[t._v(" Недопустимое значение даты ")]):t._e()]),e("button",{staticClass:"ta-dialog__submit btn waves-effect waves-light",attrs:{type:"button",name:"action"},on:{click:t.submit}},[t._v(" Добавить "),e("i",{staticClass:"material-icons right"},[t._v("send")])])])},v=[],f={name:"TaDialog",data(){return{model:{lastName:"",firstName:"",birthday:""},error:{lastName:!1,firstName:!1,birthday:!1}}},computed:{isLastNameValid(){const{lastName:t}=this.model;return t.length>1&&t.length<30&&/^[А-Яа-я ,.'-]+$/i.test(t)},isFirstNameValid(){const{firstName:t}=this.model;return t.length>1&&t.length<30&&/^[А-Яа-я ,.'-]+$/i.test(t)},isBirthdayValid(){const{birthday:t}=this.model;return 10===t.length},isFormValid(){const{isLastNameValid:t,isFirstNameValid:e,isBirthdayValid:a}=this;return t&&e&&a}},methods:{submit(){const{model:t,isFormValid:e,isLastNameValid:a,isFirstNameValid:s,isBirthdayValid:i}=this;e?this.$emit("submit",t):(a||(this.error.lastName=!0),s||(this.error.firstName=!0),i||(this.error.birthday=!0))}}},g=f,y=(0,u.Z)(g,_,v,!1,null,null,null),b=y.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ta-sort-icon",class:{"ta-sort-icon--active":t.active}},[e("i",{staticClass:"material-icons"},[t._v("sort")]),e("i",{staticClass:"material-icons dropdown",class:{reverse:t.reverse}},[t._v(" arrow_drop_down ")])])},C=[],k={name:"TaSortIcon",props:{active:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1}}},T=k,S=(0,u.Z)(T,N,C,!1,null,null,null),B=S.exports;const w=[{id:"1",lastName:"Яблонев",firstName:"Андрей",birthday:"1960-01-01"},{id:"2",lastName:"Юдин",firstName:"Владимир",birthday:"1970-01-01"},{id:"3",lastName:"Экономов",firstName:"Борис",birthday:"1980-01-01"},{id:"4",lastName:"Головкин",firstName:"Геннадий",birthday:"1990-01-01"}];var x={name:"MainPage",components:{TaLoader:h,TaDialog:b,TaSortIcon:B},data(){return{users:[{},{},{},{},{}],modelUsers:[{},{},{},{},{}],startAt:0,endAt:5,loading:!0,dialogShown:!1,sortType:"id",sortReverse:!1}},watch:{users:{handler(){this.fillModel()},immediate:!0},endAt(){this.fillModel()},sortType(){this.sortModel()},sortReverse(){this.sortModel()}},computed:{isSortById(){const{sortType:t}=this;return"id"===t},isSortByLastName(){const{sortType:t}=this;return"ln"===t},isSortByFirstName(){const{sortType:t}=this;return"fn"===t}},methods:{init(){localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify(w)),setTimeout((()=>{this.users=JSON.parse(localStorage.getItem("users")),this.loading=!1}),2e3)},showDialog(){this.dialogShown=!0},closeDialog(){this.dialogShown=!1},addNewUser(t){this.loading=!0,this.closeDialog(),setTimeout((()=>{this.users.push({id:this.users.length+1,...t})}),500),setTimeout((()=>{localStorage.setItem("users",JSON.stringify(this.users)),this.loading=!1}),750)},paginationPlus(){this.loading=!0,setTimeout((()=>{this.endAt+=5,this.loading=!1}),500)},sortByType(t){this.sortType===t?this.sortReverse=!this.sortReverse:(this.sortReverse=!1,this.sortType=t)},fillModel(){const{startAt:t,endAt:e}=this;this.modelUsers=this.users.slice(t,e)},sortModel(){const{isSortById:t,isSortByLastName:e,isSortByFirstName:a,sortReverse:s}=this;t&&(s?this.modelUsers.sort(((t,e)=>+e.id-+t.id)):this.modelUsers.sort(((t,e)=>+t.id-+e.id))),e&&(s?this.modelUsers.sort(((t,e)=>this.getSortValueByChar(e.lastName,t.lastName))):this.modelUsers.sort(((t,e)=>this.getSortValueByChar(t.lastName,e.lastName)))),a&&(s?this.modelUsers.sort(((t,e)=>this.getSortValueByChar(e.firstName,t.firstName))):this.modelUsers.sort(((t,e)=>this.getSortValueByChar(t.firstName,e.firstName))))},getSortValueByChar(t,e){return t.charAt(0)<e.charAt(0)?-1:1}},mounted(){this.init()}},O=x,V=(0,u.Z)(O,n,o,!1,null,null,null),I=V.exports,P={name:"App",components:{MainPage:I}},U=P,A=(0,u.Z)(U,i,r,!1,null,null,null),F=A.exports;s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(F)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var n=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],r=t[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,r<n&&(n=r));if(o){t.splice(c--,1);var d=i();void 0!==d&&(e=d)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,n=s[0],o=s[1],l=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var c=l(a)}for(e&&e(s);d<n.length;d++)r=n[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},s=self["webpackChunktest_app"]=self["webpackChunktest_app"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1147)}));s=a.O(s)})();
//# sourceMappingURL=app.02f5b0b1.js.map